{"version":3,"sources":["webpack:///./src/views/comp-api.vue?077b","webpack:///./src/views/comp-api.vue?d057","webpack:///src/views/comp-api.vue","webpack:///./src/views/comp-api.vue?8401","webpack:///./src/views/comp-api.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","item","index","key","type","label","config","on","$event","handleUpdateBoxConfig","field","arguments","model","value","callback","$$v","$set","expression","_e","childrenApi","childrenData","handleUpdate","staticRenderFns","component"],"mappings":"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","file":"js/comp-api.60666531.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-api.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-api.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('m-view',{staticClass:\"comp-api\",attrs:{\"paddingY\":\"md\",\"paddingX\":\"sm\"}},[(_vm.isBox)?_c('div',[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"盒属性\")]),_vm._l((_vm.boxConfigData),function(item,index){return _c('control-item',{key:(\"boxConfig\" + index),staticClass:\"m-mb-sm m-px-sm\",attrs:{\"type\":item.type,\"label\":item.label,\"config\":item.config},on:{\"input\":function($event){return _vm.handleUpdateBoxConfig(item.field, arguments[0])}},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})})],2):_vm._e(),_c('div',[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"组件API\")]),(_vm.childrenApi)?_c('control-item',{key:\"children\",staticClass:\"m-mb-sm m-px-sm\",attrs:{\"type\":_vm.childrenApi.type,\"label\":_vm.childrenApi.label,\"config\":_vm.childrenApi.config},model:{value:(_vm.childrenData),callback:function ($$v) {_vm.childrenData=$$v},expression:\"childrenData\"}}):_vm._e(),_vm._l((_vm.propsData),function(item,index){return _c('control-item',{key:(\"props\" + index),staticClass:\"m-mb-sm m-px-sm\",attrs:{\"type\":item.type,\"label\":item.label,\"config\":item.config},on:{\"input\":function($event){return _vm.handleUpdate('props', item.field, arguments[0])}},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})}),_vm._l((_vm.attrsData),function(item,index){return _c('control-item',{key:(\"attrs\" + index),staticClass:\"m-mb-sm m-px-sm\",attrs:{\"type\":item.type,\"label\":item.label,\"config\":item.config},on:{\"input\":function($event){return _vm.handleUpdate('attrs', item.field, arguments[0])}},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"scss\">\n  .comp-api {\n\n  }\n</style>\n<template>\n  <m-view class=\"comp-api\" paddingY=\"md\" paddingX=\"sm\">\n    <div v-if=\"isBox\">\n      <el-divider content-position=\"left\">盒属性</el-divider>\n      <control-item  class=\"m-mb-sm m-px-sm\"\n                    v-model=\"item.value\"\n                    :type=\"item.type\"\n                    :key=\"`boxConfig${index}`\"\n                    :label=\"item.label\"\n                    :config=\"item.config\"\n                    @input=\"handleUpdateBoxConfig(item.field, arguments[0])\"\n                    v-for=\"(item, index) in boxConfigData\"></control-item>\n    </div>\n    <div>\n      <el-divider content-position=\"left\">组件API</el-divider>\n      <control-item v-if=\"childrenApi\" class=\"m-mb-sm m-px-sm\"\n                    v-model=\"childrenData\"\n                    :type=\"childrenApi.type\"\n                    key=\"children\"\n                    :label=\"childrenApi.label\"\n                    :config=\"childrenApi.config\"\n                  ></control-item>\n      <control-item class=\"m-mb-sm m-px-sm\"\n                    v-model=\"item.value\"\n                    :type=\"item.type\"\n                    :key=\"`props${index}`\"\n                    :label=\"item.label\"\n                    :config=\"item.config\"\n                    @input=\"handleUpdate('props', item.field, arguments[0])\"\n                    v-for=\"(item, index) in propsData\"></control-item>\n      <control-item class=\"m-mb-sm m-px-sm\"\n                    v-model=\"item.value\"\n                    :type=\"item.type\"\n                    :key=\"`attrs${index}`\"\n                    :label=\"item.label\"\n                    :config=\"item.config\"\n                    @input=\"handleUpdate('attrs', item.field, arguments[0])\"\n                    v-for=\"(item, index) in attrsData\"></control-item>\n    </div>\n  </m-view>\n</template>\n<script>\n  import ControlItem from '@/components/control-item'\n  import { createNamespacedHelpers } from 'vuex'\n  import { deepCopy } from '@mobov/es-helper'\n\n  const { mapGetters, mapState, mapMutations } = createNamespacedHelpers('project')\n\n  export default {\n    name: 'comp-api',\n    components: {\n      ControlItem\n    },\n    data () {\n      return {\n        propsData: [],\n        attrsData: [],\n        boxConfigData: []\n      }\n    },\n    computed: {\n      ...mapGetters([\n        'activeNode',\n        'activeNodeIsContainer'\n      ]),\n      ...mapState([\n        'activeUid'\n      ]),\n      // boxConfig () {\n      //   return this.compData.uiConfig.isBoxWrap ? this.activeNode.boxConfig : {}\n      // },\n      // props () {\n      //   return this.compData.control.children || false\n      // },\n      isBox () {\n        return (this.compData.uiConfig && this.compData.uiConfig.isBoxWrap)\n      },\n      compData () {\n        return this.$store.getters['library/getComponent'](this.activeNode.name)\n      },\n      boxConfigApi () {\n        return this.$store.getters['library/getComponent']('HBox').control.props\n      },\n      propsApi () {\n        return this.compData.control.props || {}\n      },\n      attrsApi () {\n        return this.compData.control.attrs || {}\n      },\n      childrenApi () {\n        return this.compData.control.children || false\n      },\n      childrenData: {\n        get () {\n          return this.activeNode.children || false\n        },\n        set (val) {\n          this.activeNode.children = val\n        }\n      },\n      boxConfigApiKeys () {\n        return ['flex', 'space']\n      },\n      propsApiKeys () {\n        return Object.keys(this.propsApi)\n      },\n      attrsApiKeys () {\n        return Object.keys(this.attrsApi)\n      }\n    },\n    watch: {\n      activeUid: {\n        immediate: true,\n        handler () {\n          this.init()\n        }\n      }\n    },\n    methods: {\n      ...mapMutations([\n        'SET_NODE_DATA',\n        'SET_NODE_BOX_CONFIG'\n      ]),\n      init () {\n        this.initData('props')\n        this.initData('attrs')\n        if (this.isBox) {\n          this.initBoxConfigData()\n        }\n      },\n      initBoxConfigData () {\n        const apiKeys = this.boxConfigApiKeys\n        const api = this.boxConfigApi\n        const fieldData = this.activeNode.boxConfig\n        const data = []\n        apiKeys.forEach(field => {\n          const result = Object.assign({\n              field,\n              config: {}\n            },\n            deepCopy(api[field]),\n            fieldData[field] === undefined ? {} : {\n              value: fieldData[field]\n            })\n          data.push(result)\n        })\n        this.boxConfigData = data\n      },\n      initData (type = 'props') {\n        const apiKeys = this[`${type}ApiKeys`]\n        const api = this[`${type}Api`]\n        const fieldData = this.activeNode.nodeData[type]\n        const data = []\n        apiKeys.forEach(field => {\n          const result = Object.assign({\n              field,\n              config: {}\n            },\n            deepCopy(api[field]),\n            fieldData[field] === undefined ? {} : {\n              value: fieldData[field]\n            })\n          data.push(result)\n        })\n        this[`${type}Data`] = data\n      },\n      handleUpdate (type = 'props', field, val) {\n        const data = {\n          [field]: val\n        }\n        this.SET_NODE_DATA({\n          uid: this.activeUid,\n          [type]: data\n        })\n      },\n      handleUpdateBoxConfig (field, val) {\n        this.SET_NODE_BOX_CONFIG({\n          uid: this.activeUid,\n          boxConfig: {\n            [field]: val\n          }\n        })\n      }\n    },\n    mounted () {\n    }\n  }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-api.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-api.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comp-api.vue?vue&type=template&id=b9c32e6e&\"\nimport script from \"./comp-api.vue?vue&type=script&lang=js&\"\nexport * from \"./comp-api.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comp-api.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}